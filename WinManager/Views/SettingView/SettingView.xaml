<UserControl x:Class="WinManager.Views.SettingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="850">

    <UserControl.Resources>
        <Style x:Key="ToggleSwitchStyle" TargetType="CheckBox">
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <ContentPresenter Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                              TextBlock.Foreground="#e4e4e7" TextBlock.FontSize="14" />

                            <Border x:Name="Border" Grid.Column="1" Width="40" Height="22" CornerRadius="11" Background="#3f3f46" Margin="10,0,0,0">
                                <Ellipse x:Name="Dot" Width="16" Height="16" Fill="White" HorizontalAlignment="Left" Margin="3,0,0,0">
                                    <Ellipse.Effect>
                                        <DropShadowEffect BlurRadius="5" ShadowDepth="1" Opacity="0.3" />
                                    </Ellipse.Effect>
                                </Ellipse>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#10b981" />
                                <Setter TargetName="Dot" Property="HorizontalAlignment" Value="Right" />
                                <Setter TargetName="Dot" Property="Margin" Value="0,0,3,0" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="#a1a1aa" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="BorderBrush" Value="#27272a" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="15" />
            <Setter Property="Margin" Value="0,0,0,20" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GroupBox">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0" BorderThickness="0,0,0,1" BorderBrush="#27272a" Padding="0,0,0,10" Margin="0,0,0,10">
                                <ContentPresenter ContentSource="Header" RecognizesAccessKey="True" />
                            </Border>
                            <ContentPresenter Grid.Row="1" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ComboBox">
            <Setter Property="Width" Value="150" />
            <Setter Property="Height" Value="30" />
            <Setter Property="Padding" Value="10,0" />
            <Setter Property="HorizontalAlignment" Value="Right" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Background" Value="#27272a" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#3f3f46" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1" CornerRadius="4">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="30" />
                                </Grid.ColumnDefinitions>
                                <ContentPresenter IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}"
                                                  VerticalAlignment="Center" Margin="10,0,0,0" TextBlock.Foreground="White" />
                                <Path Grid.Column="1" Data="M7,10L12,15L17,10H7Z" Fill="#a1a1aa" HorizontalAlignment="Center" VerticalAlignment="Center" Width="10" Height="10" Stretch="Uniform" />
                                <Popup Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
                                    <Grid Name="DropDown" SnapsToDevicePixels="True" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                        <Border x:Name="DropDownBorder" Background="#27272a" BorderThickness="1" BorderBrush="#3f3f46" CornerRadius="4" />
                                        <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                            <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                        </ScrollViewer>
                                    </Grid>
                                </Popup>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ComboBoxItem">
            <Setter Property="Foreground" Value="#e4e4e7" />
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="Border" Padding="{TemplateBinding Padding}" Background="Transparent">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#3f3f46" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#10b981" />
                                <Setter Property="Foreground" Value="White" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="30">

            <TextBlock Text="Settings" FontSize="28" FontWeight="Bold" Foreground="White" Margin="0,0,0,10" />
            

            <GroupBox Header="General">
                <StackPanel>
                    <CheckBox Content="Always on Top (Keep window visible)"
                              IsChecked="{Binding IsAlwaysOnTop}"
                              Style="{StaticResource ToggleSwitchStyle}" Margin="0,0,0,15" />

                    <CheckBox Content="Run at Windows Startup"
                              IsChecked="{Binding RunAtStartup}"
                              Style="{StaticResource ToggleSwitchStyle}" Margin="0,0,0,15" />

                    <CheckBox Content="Start Minimized to Tray"
                              IsChecked="{Binding StartMinimized}"
                              Style="{StaticResource ToggleSwitchStyle}" />
                </StackPanel>
            </GroupBox>

            <GroupBox Header="About">
                <StackPanel>
                    <Grid Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal">
                            <Border Width="40" Height="40" CornerRadius="8" Background="#3B82F6" Margin="0,0,15,0">
                                <TextBlock Text="W" FontWeight="Bold" FontSize="24" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Window Monitor" FontWeight="Bold" FontSize="16" Foreground="White" />
                            </StackPanel>
                        </StackPanel>

                        <Button Width="130" Height="30"
        HorizontalAlignment="Right"
        Background="Transparent"
        Foreground="#3B82F6"
        BorderBrush="#3B82F6"
        BorderThickness="1"
        Tag="https://github.com/KinhLupNe?tab=repositories"
        Click="LinkButton_Click">

                            <Button.Content>
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    <Path Data="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
                  Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                  Stretch="Uniform"
                  Width="14" Height="14"
                  Margin="0,0,8,0"
                  RenderTransformOrigin="0.5, 0.5" />
                                    <TextBlock Text="Github" VerticalAlignment="Center" FontWeight="SemiBold" />
                                </StackPanel>
                            </Button.Content>

                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border x:Name="border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="1"
                    CornerRadius="4">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                    </Border>

                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="border" Property="Background" Value="#3310b981" />

                                            <Setter TargetName="border" Property="BorderBrush" Value="#3B82F6" />

                                            <Setter Property="Foreground" Value="White" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </Grid>

                    <TextBlock Text="Developed by Kính Lúp và người bạn bí ẩn " Foreground="#a1a1aa" Margin="0,10,0,5" />
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>