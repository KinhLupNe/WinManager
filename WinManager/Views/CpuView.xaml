<UserControl x:Class="WinManager.Views.CpuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
             xmlns:comp="clr-namespace:WinManager.Views.Components"
             Background="Transparent">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="380"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="40,40,40,20">
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="CPU" FontSize="42" FontWeight="Black" Foreground="White" />
                <TextBlock Text="{Binding CpuName, FallbackValue='Intel Core i9-13900K'}" FontSize="16" Style="{StaticResource MonoText}"/>
            </StackPanel>

            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Center">
                <TextBlock Text="{Binding CpuLoad, StringFormat={}{0}%}" 
                           FontSize="56" FontWeight="Bold" FontFamily="Consolas" Foreground="{StaticResource CpuBrush}">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="{StaticResource CpuBrush}" 
                          BlurRadius="25" 
                          ShadowDepth="0" 
                          Opacity="0.8"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock Text="UTILIZATION" Foreground="#64748b" FontSize="12" HorizontalAlignment="Right"/>
            </StackPanel>
        </Grid>
<Border Grid.Row="1" Margin="40,0,40,30" Background="#00000040" 
                BorderBrush="{StaticResource GlassBorder}" BorderThickness="1" CornerRadius="12">
            <lvc:CartesianChart Series="{Binding CpuSeries}" XAxes="{Binding XAxes}" YAxes="{Binding YAxes}"/>
        </Border>

        <ScrollViewer Grid.Row="2" Margin="40,0,40,0" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
            <WrapPanel>
                <comp:InfoCard Label="Speed" Value="{Binding CurrentSpeed}" Width="200"/>
                <comp:InfoCard Label="Processes" Value="{Binding ProcessCount}" Width="200"/>
                <comp:InfoCard Label="Threads" Value="{Binding ThreadCount}" Width="200"/>
                <comp:InfoCard Label="Uptime" Value="{Binding Uptime}" Width="200"/>
            </WrapPanel>
        </ScrollViewer>
        
    </Grid>
</UserControl>